(()=>{"use strict";function e(e){return e.ok?e.json():Promise.reject(e.json())}function t(e,t){if(!["td","th"].includes(e))throw new Error(`Refuse to create not whitelisted ${e} with arbitrary innerText`);const n=document.createElement(e);return n.innerText=t,n}function n(e){return"$"+e.toFixed(2)}const o=document.getElementById("js-init-feedback"),a=document.getElementById("js-select-ticker"),r=document.getElementById("js-output-container");o.style.color="green",o.innerText="JS has been loaded succesfully",a.addEventListener("change",(async o=>{if(!(o.target instanceof window.HTMLSelectElement))return;const a=o.target.value,d=await async function(t){const n=(await(o=`https://thomas-veillard.fr/wp-content/uploads/5y-rates/${t}-rates-5y.json`,window.fetch(o,{method:"GET"}).then(e))).data;var o;return{company:n.company,symbol:n.symbol,timeAsOf:new Date(n.timeAsOf),chart:n.chart.map((({z:e})=>({z:{high:parseFloat(e.high),low:parseFloat(e.low),open:parseFloat(e.open),close:parseFloat(e.close),volume:parseInt(e.volume.replace(/,/g,""),10),dateTime:new Date(e.dateTime)}})))}}(a);r.innerHTML="",r.appendChild(function(e){const o=document.createElement("table"),a=document.createElement("tbody");o.appendChild(function(){const e=document.createElement("thead"),n=e.appendChild(document.createElement("tr"));return n.appendChild(t("th","Date")),n.appendChild(t("th","Open price")),n.appendChild(t("th","Close price")),n.appendChild(t("th","High price")),n.appendChild(t("th","Low price")),n.appendChild(t("th","Volume")),e}()),o.appendChild(a);for(const{z:{dateTime:o,open:r,close:d,high:c,low:i,volume:l}}of e.chart){const e=document.createElement("tr");e.appendChild(t("td",o.toISOString().split("T")[0]));for(const o of[r,d,c,i])e.appendChild(t("td",n(o)));e.appendChild(t("td",l.toString())),a.appendChild(e)}return o}(d))}))})();